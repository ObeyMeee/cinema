<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
          crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
    <div class="row  justify-content-end">
        <div class="col-3">
            <a class="btn btn-primary" th:href="@{/users/new}">Sign up</a>
        </div>
        <div class="col-3">
            <a class="btn btn-primary" th:href="@{/login}">Log in</a>
        </div>
        <div class="col-3">
            <a class="btn btn-primary" th:href="@{/logout}">Log out</a>
        </div>
    </div>
</div>

<hr>

<div class="container">
    <div class="row">
        <div class="col-4" th:each="movie : ${page.content}">
            <div th:object="${movie}">
                <a th:href="@{/movie-details/{id}(id = *{movieDetails.id})}">
                    <img th:src="'posters/' + *{movieDetails.media.poster}"
                         class="rounded float-start img-responsive"
                         style="min-height: 400px;
                                max-height: 400px;
                                min-width: 400px;
                                max-width: 400px;"/>
                </a>
            </div>
        </div>
    </div>
</div>

<div class="pagination-div">
    <span th:if="${page.hasPrevious()}">
        <a th:href="@{/movies(page=${page.number - 1},size=${page.size})}">Previous</a>
    </span>
    <th:block th:each="i: ${#numbers.sequence(0, page.totalPages - 1)}">
        <span th:if="${page.number == i}" class="selected">[[${i}+1]]</span>
        <span th:unless="${page.number == i}">
             <a th:href="@{/movies(page=${i},size=${page.size})}">[[${i}+1]]</a>
        </span>
    </th:block>
    <span th:if="${page.hasNext()}">
        <a th:href="@{/movies(page=${page.number+1},size=${page.size})}">Next</a>
    </span>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
        crossorigin="anonymous">
</script>
</body>
</html>